<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Details - Petani Tangguh</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
    <!-- Google Fonts: Inter & Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@700&display=swap"
      rel="stylesheet"
    />
    <!-- Feather Icons -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <!-- Typed.js for Typing Animation -->
    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    <script>
      // On page load or when changing themes, best to add inline in `head` to avoid FOUC
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    </script>
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      h1,
      h2,
      h3 {
        font-family: "Poppins", sans-serif;
      }
      /* Efek transisi pada galeri */
      .gallery-item {
        transition: transform 0.3s ease-in-out;
      }
      .gallery-item:hover {
        transform: scale(1.05);
      }
      /* Animation styles */
      .animated {
        opacity: 0;
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }
      .animated.is-visible {
        opacity: 1;
        transform: none;
      }
      .slide-in-from-left {
        transform: translateX(-40px);
      }
      .slide-in-from-right {
        transform: translateX(40px);
      }
      .fade-in {
        transform: translateY(20px);
      }
      /* Staggered delay helpers */
      .delay-100 {
        transition-delay: 100ms;
      }
      .delay-200 {
        transition-delay: 200ms;
      }
      .delay-300 {
        transition-delay: 300ms;
      }
      .delay-400 {
        transition-delay: 400ms;
      }
    </style>
  </head>
  <body class="bg-white text-gray-800 dark:bg-black dark:text-gray-300">
    <!-- Header Navigasi -->
    <header
      class="bg-white/80 backdrop-blur-md shadow-md sticky top-0 z-50 w-full dark:bg-black/80 dark:border-b dark:border-neutral-800"
    >
      <div
        class="container mx-auto px-6 py-4 flex justify-between items-center"
      >
        <a
          href="index.html"
          class="text-xl font-bold text-gray-900 dark:text-white"
        >
          Fathih Pradipta Arya PH
        </a>
        <div class="flex items-center gap-4">
          <a
            href="index.html#projects"
            class="inline-flex items-center text-sky-500 hover:text-sky-600 font-semibold dark:text-sky-400 dark:hover:text-sky-300"
          >
            <i data-feather="arrow-left" class="w-4 h-4 mr-2"></i>
            Kembali
          </a>
          <!-- Theme Toggle Button -->
          <button
            id="theme-toggle"
            type="button"
            class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-neutral-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-neutral-700 rounded-lg text-sm p-2.5"
          >
            <i
              id="theme-toggle-dark-icon"
              data-feather="moon"
              class="w-5 h-5 hidden"
            ></i>
            <i
              id="theme-toggle-light-icon"
              data-feather="sun"
              class="w-5 h-5 hidden"
            ></i>
          </button>
        </div>
      </div>
    </header>

    <main class="container mx-auto px-6 py-12 md:py-20 overflow-hidden">
      <div class="max-w-4xl mx-auto">
        <!-- Judul Projek -->
        <h1
          class="text-3xl md:text-5xl font-bold text-gray-900 dark:text-white mb-10 animate-typing"
        >
          "Petani Tangguh" Mobile Design
        </h1>

        <!-- Galeri Highlight Desain -->
        <div
          id="gallery-grid"
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-12"
        >
          <div class="gallery-item cursor-pointer animated fade-in delay-200">
            <img
              src="img/Petani Tangguh/Baru/1.png"
              alt="Highlight desain 1"
              class="w-full h-auto rounded-xl shadow-lg border dark:border-neutral-700"
              onerror="this.onerror=null;this.src='https://placehold.co/600x800/f3f4f6/374151?text=Highlight+1';"
            />
          </div>
          <div class="gallery-item cursor-pointer animated fade-in delay-300">
            <img
              src="img/Petani Tangguh/Baru/2.png"
              alt="Highlight desain 2"
              class="w-full h-auto rounded-xl shadow-lg border dark:border-neutral-700"
              onerror="this.onerror=null;this.src='https://placehold.co/600x800/f3f4f6/374151?text=Highlight+2';"
            />
          </div>
          <div class="gallery-item cursor-pointer animated fade-in delay-400">
            <img
              src="img/Petani Tangguh/Baru/3.png"
              alt="Highlight desain 3"
              class="w-full h-auto rounded-xl shadow-lg border dark:border-neutral-700"
              onerror="this.onerror=null;this.src='https://placehold.co/600x800/f3f4f6/374151?text=Highlight+3';"
            />
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Kolom Kiri: Deskripsi -->
          <div class="md:col-span-2 animated slide-in-from-left">
            <h2
              class="text-2xl font-bold text-gray-900 dark:text-white mb-4 animate-typing"
            >
              Project Detail
            </h2>
            <div class="space-y-4 text-lg text-gray-700 dark:text-gray-300">
              <p class="animate-typing">
                This project was initiated to empower farmers and gardeners by
                providing a dedicated platform to sell their products directly
                to buyers. The goal was to create a seamless marketplace
                experience, enabling farmers to manage their listings, promote
                their agricultural goods, and connect with potential customers
                without intermediaries. The design focused on an intuitive user
                interface, product categorization, QR-based verification, and a
                membership system to foster trust between sellers and buyers.
              </p>
              <p class="animate-typing">
                Unfortunately, the project was discontinued midway due to the
                clientâ€™s decision to cancel the development process. Despite
                this, the design deliverables demonstrate a clear understanding
                of user needs and marketplace workflows, and can serve as a
                valuable reference for future projects.
              </p>
            </div>
          </div>
          <!-- Kolom Kanan: Info & Tautan -->
          <div
            class="bg-gray-50 dark:bg-neutral-900 dark:border dark:border-neutral-700 p-6 rounded-lg animated slide-in-from-right"
          >
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
              Detail
            </h3>
            <ul class="space-y-3 text-gray-700 dark:text-gray-300">
              <li><strong>Kategori:</strong> UI/UX Design</li>
              <li><strong>Tools:</strong> Figma</li>
              <li><strong>Tahun:</strong> 2025</li>
            </ul>
            <a
              href="https://www.figma.com/design/FnmXDUSHxVMDiJq5VpNCOv/PetaniTangguh-Design?node-id=32-521&t=iyAGhE0RorTkYasZ-1"
              target="_blank"
              rel="noopener noreferrer"
              class="mt-6 w-full inline-block text-center bg-sky-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-sky-600 transition-colors"
            >
              Lihat Desain di Figma
            </a>
          </div>
        </div>
      </div>
    </main>

    <!-- ===== Lightbox Overlay ===== -->
    <div
      id="lightbox"
      class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/80 p-4"
      role="dialog"
      aria-modal="true"
    >
      <div class="relative z-10 max-w-4xl w-full">
        <img
          id="lightbox-img"
          src=""
          alt="Tampilan diperbesar"
          class="mx-auto max-h-[90vh] w-auto rounded-lg shadow-2xl"
        />
        <button
          id="close-lightbox"
          class="absolute top-2 right-2 text-white/80 hover:text-white bg-black/30 hover:bg-black/50 rounded-full p-2 transition-colors"
          aria-label="Tutup"
        >
          <i data-feather="x" class="w-7 h-7"></i>
        </button>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-black py-6 mt-12">
      <div
        class="container mx-auto px-6 text-center text-gray-600 dark:text-gray-400"
      >
        <p>&copy; 2025 Fathih Pradipta Arya PH.</p>
      </div>
    </footer>

    <script>
      // Inisialisasi Feather Icons setelah halaman dimuat
      window.addEventListener("load", () => {
        feather.replace();
      });

      // Logika untuk Lightbox/Overlay
      document.addEventListener("DOMContentLoaded", () => {
        const galleryItems = document.querySelectorAll(".gallery-item");
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");
        const closeLightboxBtn = document.getElementById("close-lightbox");

        const openLightbox = (src) => {
          lightboxImg.src = src;
          lightbox.classList.remove("hidden");
          lightbox.classList.add("flex");
          document.body.style.overflow = "hidden"; // Mencegah scroll di background
        };

        const closeLightbox = () => {
          lightbox.classList.add("hidden");
          lightbox.classList.remove("flex");
          document.body.style.overflow = ""; // Mengaktifkan kembali scroll
        };

        galleryItems.forEach((item) => {
          item.addEventListener("click", () => {
            const img = item.querySelector("img");
            if (img) {
              openLightbox(img.src);
            }
          });
        });

        // Menutup lightbox saat tombol 'X' diklik
        closeLightboxBtn.addEventListener("click", closeLightbox);

        // Menutup lightbox saat area gelap di sekeliling gambar diklik
        lightbox.addEventListener("click", (e) => {
          if (e.target === lightbox) {
            closeLightbox();
          }
        });

        // Menutup lightbox dengan tombol 'Escape'
        window.addEventListener("keydown", (e) => {
          if (!lightbox.classList.contains("hidden") && e.key === "Escape") {
            closeLightbox();
          }
        });
      });

      // Animation on scroll logic
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("is-visible");
              observer.unobserve(entry.target);
            }
          });
        },
        {
          threshold: 0.1,
        }
      );

      const elementsToAnimate = document.querySelectorAll(".animated");
      elementsToAnimate.forEach((el) => observer.observe(el));

      // Typing animation on scroll logic
      if (typeof Typed !== "undefined") {
        const typingObserver = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const target = entry.target;
                const originalHTML = target.innerHTML;

                target.innerHTML = ""; // Clear the content to start typing
                target.style.color = ""; // Restore original text color from transparent

                new Typed(target, {
                  strings: [originalHTML],
                  typeSpeed: 15,
                  contentType: "html",
                  showCursor: false,
                  loop: false,
                });

                observer.unobserve(target); // Animate only once
              }
            });
          },
          {
            threshold: 0.8,
          }
        );

        const elementsToType = document.querySelectorAll(".animate-typing");
        elementsToType.forEach((el) => {
          el.style.color = "transparent";
          typingObserver.observe(el);
        });
      } else {
        console.error("Typed.js is not loaded.");
      }

      // Dark/Light Mode Toggle Logic
      const themeToggleButton = document.getElementById("theme-toggle");
      const themeToggleDarkIcon = document.getElementById(
        "theme-toggle-dark-icon"
      );
      const themeToggleLightIcon = document.getElementById(
        "theme-toggle-light-icon"
      );

      // Function to set the correct icon based on the current theme (by checking the 'dark' class on <html>)
      const setButtonIcon = () => {
        if (document.documentElement.classList.contains("dark")) {
          themeToggleDarkIcon.classList.add("hidden");
          themeToggleLightIcon.classList.remove("hidden");
        } else {
          themeToggleDarkIcon.classList.remove("hidden");
          themeToggleLightIcon.classList.add("hidden");
        }
        feather.replace(); // Re-render icons
      };

      // Set initial icon state on page load
      setButtonIcon();

      if (themeToggleButton) {
        themeToggleButton.addEventListener("click", () => {
          // Toggle dark class on <html>
          document.documentElement.classList.toggle("dark");

          // Update localStorage based on the new state
          const isDarkMode =
            document.documentElement.classList.contains("dark");
          localStorage.setItem("theme", isDarkMode ? "dark" : "light");

          // Update the icon to reflect the new theme
          setButtonIcon();
        });
      }
    </script>
  </body>
</html>
